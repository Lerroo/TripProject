@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@

@*@model FastTripApp.DAO.Models.Statistic.UserStatistic*@
@model FastTripApp.DAO.Models.Statistic.UserStatistic
@{
    var trip = Model.LastTrip;
    var user = Model.User;
    var userStatistic = Model;

}

<div class="container shadow-lg p-3 rounded border-dark text-dark border-5">
    <h1 class="p-3">Last trip</h1>
    <div class="row table-bordered p-3 ml-3 mr-3 d-flex justify-content-center justify-content-around rounded">
        <div class="col-6 bg-white p-3">
            @{
                if (trip != null)
                {
                    <div class="form-group row">
                        <div class="col-3">
                            <label asp-for="@trip.Name"></label>
                        </div>
                        <div class="col">
                            <input asp-for="@trip.Name" class="form-control" />
                            <span asp-validation-for="@trip.Name" class="text-danger"></span>
                        </div>
                    </div>

                    <div class="form-group row">
                        <div class="col-3">
                            <label asp-for="@trip.TimeAfterDeparture.Start"></label>
                        </div>
                        <div class="col">
                            <input asp-for="@trip.TimeAfterDeparture.Start" class="form-control" />
                            <span asp-validation-for="@trip.TimeAfterDeparture.Start" class="text-danger"></span>
                        </div>
                    </div>

                    <div class="form-group row">
                        <div class="col-3">
                            <label asp-for="@trip.TimeAfterDeparture.End"></label>
                        </div>
                        <div class="col">
                            <input asp-for="@trip.TimeAfterDeparture.End" class="form-control" />
                            <span asp-validation-for="@trip.TimeAfterDeparture.End" class="text-danger"></span>
                        </div>
                    </div>

                    <div class="form-group row">
                        <div class="col-3">
                            <label asp-for="@trip.Descriprion"></label>
                        </div>
                        <div class="col">
                            <textarea asp-for="@trip.Descriprion" class="form-control" rows="3"></textarea>
                            <span asp-validation-for="@trip.Descriprion" class="text-danger"></span>
                        </div>
                    </div>

                    <div class="form-group row">
                        <div class="col-3">
                            <label asp-for="@trip.Address.Start"></label>
                        </div>
                        <div class="col">
                            <textarea cols="2" type="text" class="form-control" placeholder="Start trip" asp-for="@trip.Address.Start"></textarea>
                            <span asp-validation-for="@trip.Address.Start" class="text-danger"></span>
                            <input type="text" class="form-control d-none" asp-for="@trip.Address.StartCoords">
                        </div>
                    </div>

                    <div class="form-group row">
                        <div class="col-3">
                            <label asp-for="@trip.Address.End"></label>
                        </div>
                        <div class="col">
                            <textarea cols="2" type="text" class="form-control" placeholder="End trip" asp-for="@trip.Address.End"></textarea>
                            <span asp-validation-for="@trip.Address.End" class="text-danger"></span>
                            <input type="text" class="form-control d-none" asp-for="@trip.Address.EndCoords">
                        </div>
                    </div>
                }
                else
                {
                    <p> No trips exists. Create some new trip.</p>
                }
            }
        </div>
        <div id="image_div">
            <img id="googleStaticPicture" src="~/uploads/defaultStaticMap.png" />
        </div>

    </div>

    <div class="form-group col-12">
        <hr>
    </div>

    <div class="p-3">
        <div class="col ml-4 p-3 d-flex">
            <div class="d-flex align-items-center">
                <img class="profile-pic" src="/uploads/profile_pic/defaultProfilePhoto.jpg">
                <h1 class="m-3">@user.Firstname @user.LastName statistics</h1>
            </div>
            <div class="col d-flex justify-content-end align-items-center">
                <h2 class="m-3">@Html.DisplayNameFor(model => model.Years)</h2>
                <select class="form-control col-2" asp-for="Year" asp-items="@userStatistic.Years">
                </select>
            </div>
        </div>

        <div class="col trava-border">
            <div class="col d-flex mx-auto justify-content-around">
                <div class=" col ">
                    <h3>@Html.DisplayNameFor(model => model.LocationsTrips)</h3>
                    <table class="table table-user-information">
                        <tbody>
                            <tr>
                                <td><label asp-for="@userStatistic.LocationsTrips.StartFavorite"></label></td>
                                <td>@userStatistic.LocationsTrips.StartFavorite</td>
                            </tr>
                            <tr>
                                <td><label asp-for="@userStatistic.LocationsTrips.EndFavorite"></label></td>
                                <td>@userStatistic.LocationsTrips.EndFavorite</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="col-3">
                    <h3>@Html.DisplayNameFor(model => model.ObserveTrips)</h3>
                    <table class="table table-user-information">
                        <tbody>
                            <tr>
                                <td><label asp-for="@userStatistic.ObserveTrips.Maximum"></label></td>
                                <td>@userStatistic.ObserveTrips.Maximum</td>
                            </tr>
                            <tr>
                                <td><label asp-for="@userStatistic.ObserveTrips.Minimum"></label></td>
                                <td>@userStatistic.ObserveTrips.Average</td>
                            </tr>
                            <tr>
                                <td><label asp-for="@userStatistic.ObserveTrips.Average"></label></td>
                                <td>@userStatistic.ObserveTrips.Average</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="col-2">
                    <h3>@Html.DisplayNameFor(model => model.CountTrips)</h3>
                    <table class="table table-user-information">
                        <tbody>
                            <tr>
                                <td><label asp-for="@userStatistic.CountTrips.All"></label></td>
                                <td>@userStatistic.CountTrips.All</td>
                            </tr>
                            <tr>
                                <td><label asp-for="@userStatistic.CountTrips.Abandon"></label></td>
                                <td>@userStatistic.CountTrips.Abandon</td>
                            </tr>
                            <tr>
                                <td><label asp-for="@userStatistic.CountTrips.Success"></label></td>
                                <td>@userStatistic.CountTrips.Success</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>